<div class="my-account">

    <div class="my-account-container">
        <h3>My Account</h3>
        <button type="button" (click)="logout()"><i class="ri-logout-box-r-line"></i><span>Log-out</span></button>

    </div>



    <div class="my-account-body">

        <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="center">
            <mat-tab label="Account Details">
                <form [formGroup]="profileForm">
                    <div class="account-details">
                        <h2>Account details</h2>
                        <div *ngIf="profileForm.disabled">
                            <button class="btn" type="button" (click)="editProfile()"><i class="ri-pencil-line"></i></button>
                        </div>
                    </div>
        
                    <h3>Personal Information</h3>
                    <mat-divider></mat-divider>
                    <br>
        
                    <mat-form-field appearance="outline" hideRequiredMarker="">
                        <mat-label>Username</mat-label>
                        <input id="username" type="text" formControlName="username" matInput>
        
                    </mat-form-field>
                    <table class="name" cellspacing="0">
                        <td><mat-form-field appearance="outline">
                                <mat-label>First Name</mat-label>
                                <input id="firstName" type="text" formControlName="firstName" matInput>
                            </mat-form-field>
                            <div class = "mat-error" *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)">
                                <mat-error *ngIf="firstName.errors?.['required']">
                                    First name is required.
                                </mat-error>
                            </div>
                        </td>
                        <td><mat-form-field appearance="outline">
                                <mat-label>Last Name</mat-label>
                                <input id="lastName" type="text" formControlName="lastName" matInput>
        
                            </mat-form-field>
                            <div class="mat-error" *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)">
                                <mat-error *ngIf="lastName.errors?.['required']">
                                    Last name is required.
                                </mat-error>
                            </div>
        
                        </td>
                    </table>
        
                    <table class="phone-bday" cellspacing="0">
                        <td><mat-form-field appearance="outline" hideRequiredMarker="">
                                <mat-label>Phone Number <i class="ri-phone-fill"></i></mat-label>
        
                                <input id="phone" type="text" formControlName="phone" matInput>
        
                            </mat-form-field>
        
                        </td>
        
                        <td><mat-form-field appearance="outline" hideRequiredMarker="">
                                <mat-label>Birthdate</mat-label>
                                <input id="birthDate" type="date" formControlName="birthDate" matInput>
                            </mat-form-field></td>
                    </table>
        
                    <!-- ERROR PROMPTS -->
        
                    <h3>E-mail address</h3>
                    <mat-divider></mat-divider>
                    <br>
        
                    <mat-form-field appearance="outline" hideRequiredMarker="">
                        <mat-label>E-mail Address</mat-label>
                        <input id="email" type="text" formControlName="email" matInput>
                    </mat-form-field>
                            <div class="mat-error" *ngIf="email.invalid && (email.dirty || email.touched)">
                        <mat-error *ngIf="email.errors?.['pattern']">
                            Enter a valid email address.
                        </mat-error>
                <mat-error *ngIf="email.errors?.['required']">
                    Email address is required.
                </mat-error>
        
            </div>
        
                    <h3>Shipping Address</h3>
                    <mat-divider></mat-divider>
                    <br>
        
                    <mat-form-field appearance="outline" hideRequiredMarker="">
                        <mat-label>Shipping</mat-label>
                        <textarea id="address" type="text" formControlName="address" matInput></textarea>
                    </mat-form-field>
        
                    <div class="save-changes" *ngIf="profileForm.enabled">
        
                        <button type="button" (click)="confirm()" mat-raised-button color="primary"
                            [disabled]="profileForm.untouched || (profileForm.invalid && (profileForm.dirty || profileForm.touched))">
                            Save
                        </button>
                        <button type="button" (click)="cancel()" mat-raised-button color="warn">Cancel</button>
                    </div>
        
                </form>
            </mat-tab>
            
            <mat-tab label="Order History">
                <div class="order-history" *ngIf="!isAdmin">
                    <h2>Order History</h2>
                    <app-pending-orders></app-pending-orders>
                </div>
            </mat-tab>
           
          </mat-tab-group>

        

        

    </div>

</div>